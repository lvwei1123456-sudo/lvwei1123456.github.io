<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç­›é€‰è§„åˆ™ - æƒ æ¯ä¸´åºŠè¯•éªŒå¹³å°</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f5f5f5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* å¤´éƒ¨å¯¼èˆªæ  */
        .header {
            background-color: #1890ff;
            color: white;
            padding: 0 24px;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
            font-size: 16px;
        }

        .header-middle {
            display: flex;
            align-items: center;
            gap: 32px;
            flex: 1;
            justify-content: center;
        }

        .nav-link {
            color: white;
            text-decoration: none;
            font-size: 14px;
            padding: 8px 0;
            position: relative;
        }

        .nav-link.active {
            font-weight: 500;
        }

        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background-color: white;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
            font-size: 14px;
        }

        .user-dropdown {
            display: flex;
            align-items: center;
            gap: 4px;
            cursor: pointer;
        }

        .bell-icon {
            font-size: 18px;
            cursor: pointer;
        }

        /* é¡¹ç›®ä¿¡æ¯æ  */
        .project-bar {
            background-color: #fafafa;
            padding: 12px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #f0f0f0;
        }

        .back-button {
            display: flex;
            align-items: center;
            gap: 4px;
            color: rgba(0,0,0,0.65);
            text-decoration: none;
            font-size: 14px;
            cursor: pointer;
        }

        .back-button:hover {
            color: #1890ff;
        }

        .project-info {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            font-size: 14px;
            color: rgba(0,0,0,0.85);
        }

        /* ä¸»å†…å®¹åŒº */
        .main-content {
            flex: 1;
            background: white;
            margin: 16px;
            border-radius: 4px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
        }

        /* ç­›é€‰å’Œæœç´¢åŒºåŸŸ */
        .filter-section {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .filter-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-item label {
            font-size: 14px;
            color: rgba(0,0,0,0.85);
            white-space: nowrap;
        }

        .filter-select {
            padding: 4px 11px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            font-size: 14px;
            height: 32px;
            width: 120px;
            background: white;
        }

        .search-box {
            flex: 1;
            position: relative;
            max-width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 4px 11px 4px 32px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            font-size: 14px;
            height: 32px;
        }

        .search-icon {
            position: absolute;
            left: 8px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(0,0,0,0.45);
        }

        .action-buttons {
            display: flex;
            gap: 8px;
            margin-left: auto;
        }

        .btn {
            padding: 4px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            height: 32px;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .btn-primary {
            background-color: #1890ff;
            color: white;
        }

        .btn-primary:hover {
            background-color: #40a9ff;
        }

        .btn-orange {
            background-color: #ff7a00;
            color: white;
        }

        .btn-orange:hover {
            background-color: #ff9500;
        }

        /* è¡¨æ ¼åŒºåŸŸ */
        .table-container {
            flex: 1;
            overflow: auto;
            margin-top: 16px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background-color: #fafafa;
        }

        th {
            padding: 12px 16px;
            text-align: left;
            font-weight: 500;
            font-size: 14px;
            color: rgba(0,0,0,0.85);
            border-bottom: 1px solid #f0f0f0;
        }

        td {
            padding: 12px 16px;
            border-bottom: 1px solid #f0f0f0;
        }

        tbody tr:hover {
            background-color: #fafafa;
        }

        .table-input {
            width: 100%;
            padding: 4px 11px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            font-size: 14px;
            height: 32px;
        }

        .table-input:focus {
            outline: none;
            border-color: #40a9ff;
            box-shadow: 0 0 0 2px rgba(24,144,255,0.2);
        }

        .type-badge {
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            border: none;
            height: 24px;
        }

        .type-include {
            background-color: #52c41a;
            color: white;
        }

        .type-exclude {
            background-color: #ff4d4f;
            color: white;
        }

        .level-badge {
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            border: none;
            height: 24px;
        }

        .level-refined {
            background-color: #fff7e6;
            color: #d46b08;
            border: 1px solid #ffd591;
        }

        .level-rough {
            background-color: #e6f7ff;
            color: #1890ff;
            border: 1px solid #91d5ff;
        }

        .level-initial {
            background-color: #e6f7ff;
            color: #1890ff;
            border: 1px solid #91d5ff;
        }

        .drag-handle {
            cursor: move;
            color: rgba(0,0,0,0.45);
            font-size: 16px;
            padding: 4px;
            display: flex;
            align-items: center;
        }

        .data-source-container {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            align-items: center;
        }

        .data-source-badge {
            background-color: #e6f7ff;
            color: #1890ff;
            border: 1px solid #91d5ff;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
            height: 24px;
            display: inline-flex;
            align-items: center;
        }

        .data-source-badge.with-count {
            position: relative;
        }

        .data-source-count {
            background-color: #52c41a;
            color: white;
            font-size: 10px;
            padding: 1px 4px;
            border-radius: 2px;
            margin-left: 4px;
        }

        .action-buttons-cell {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-add-row {
            background-color: #52c41a;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            height: 24px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .btn-delete {
            background: none;
            border: none;
            color: rgba(0,0,0,0.45);
            cursor: pointer;
            font-size: 16px;
            padding: 4px;
        }

        .btn-delete:hover {
            color: #ff4d4f;
        }

        /* åº•éƒ¨ç¡®è®¤æŒ‰é’® */
        .footer-actions {
            position: fixed;
            bottom: 0;
            right: 0;
            padding: 16px 24px;
            background: white;
            border-top: 1px solid #f0f0f0;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.1);
        }

        .btn-confirm {
            background-color: #1890ff;
            color: white;
            border: none;
            padding: 8px 24px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            height: 40px;
        }

        .btn-confirm:hover {
            background-color: #40a9ff;
        }

        /* ä¸ºåº•éƒ¨æŒ‰é’®ç•™å‡ºç©ºé—´ */
        .main-content {
            padding-bottom: 80px;
        }

        /* ä¸Šä¼ æ–‡ä»¶æ¨¡æ€æ¡† */
        .upload-modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.45);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .upload-modal-overlay.show {
            display: flex;
        }

        .upload-modal {
            background: white;
            border-radius: 4px;
            width: 600px;
            max-width: 90vw;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
        }

        .upload-modal-tabs {
            display: flex;
            border-bottom: 1px solid #f0f0f0;
        }

        .upload-tab {
            flex: 1;
            padding: 12px 24px;
            text-align: center;
            font-size: 14px;
            color: rgba(0,0,0,0.65);
            background: white;
            border: none;
            cursor: pointer;
            border-bottom: 2px solid transparent;
        }

        .upload-tab.active {
            color: #1890ff;
            background: white;
            border-bottom-color: #1890ff;
            font-weight: 500;
        }

        .upload-modal-body {
            padding: 40px 24px;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .upload-area {
            width: 100%;
            border: 2px dashed #d9d9d9;
            border-radius: 4px;
            padding: 60px 20px;
            text-align: center;
            background-color: #fafafa;
            margin-bottom: 16px;
        }

        .select-file-btn {
            padding: 8px 24px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            background: white;
            color: rgba(0,0,0,0.85);
            font-size: 14px;
            cursor: pointer;
            margin-bottom: 12px;
        }

        .select-file-btn:hover {
            border-color: #1890ff;
            color: #1890ff;
        }

        .support-formats {
            font-size: 14px;
            color: rgba(0,0,0,0.45);
        }

        .upload-modal-footer {
            padding: 12px 24px;
            border-top: 1px solid #f0f0f0;
            display: flex;
            justify-content: flex-end;
            gap: 8px;
        }

        .btn-cancel {
            background-color: white;
            color: rgba(0,0,0,0.65);
            border: 1px solid #d9d9d9;
            padding: 4px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            height: 32px;
        }

        .btn-cancel:hover {
            color: #1890ff;
            border-color: #1890ff;
        }

        .btn-start-recognition {
            background-color: #1890ff;
            color: white;
            border: none;
            padding: 4px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            height: 32px;
        }

        .btn-start-recognition:hover {
            background-color: #40a9ff;
        }
    </style>
</head>
<body>
    <!-- å¤´éƒ¨å¯¼èˆª -->
    <div class="header">
        <div class="header-left">
            <span>æƒ æ¯ç§‘æŠ€ åˆä½œåŒ»é™¢ | æƒ æ¯ä¸´åºŠè¯•éªŒå¹³å°</span>
        </div>
        <div class="header-middle">
            <a href="#" class="nav-link active">ç§‘ç ”é¡¹ç›®</a>
            <a href="#" class="nav-link">ç»¼åˆç®¡ç†</a>
            <a href="#" class="nav-link">ç”¨æˆ·ç®¡ç†</a>
            <a href="#" class="nav-link">æ‹“å±•åŠŸèƒ½</a>
        </div>
        <div class="header-right">
            <span>æƒ æ¯åŒ»ç”Ÿå›¢é˜Ÿ</span>
            <div class="user-dropdown">
                <span>Hi adminwer</span>
                <span>â–¼</span>
            </div>
            <span class="bell-icon">ğŸ””</span>
        </div>
    </div>

    <!-- é¡¹ç›®ä¿¡æ¯æ  -->
    <div class="project-bar">
        <a href="protocol-view.html" class="back-button">
            <span>â†</span>
            <span>è¿”å›</span>
        </a>
        <div class="project-info" id="projectInfo">2025123115054954 --- SLEè‹å·äºšç››</div>
    </div>

    <!-- ä¸»å†…å®¹åŒº -->
    <div class="main-content">
        <!-- ç­›é€‰å’Œæœç´¢åŒºåŸŸ -->
        <div class="filter-section">
            <div class="filter-item">
                <label>æ¡ä»¶ç±»å‹</label>
                <select class="filter-select">
                    <option>å…¨éƒ¨</option>
                    <option>çº³å…¥æ¡ä»¶</option>
                    <option>æ’é™¤æ¡ä»¶</option>
                </select>
            </div>
            <div class="filter-item">
                <label>æ¡ä»¶çº§åˆ«</label>
                <select class="filter-select">
                    <option>å…¨éƒ¨</option>
                    <option>ç²¾ç­›æ¡ä»¶</option>
                    <option>ç²—ç­›æ¡ä»¶</option>
                </select>
            </div>
            <div class="search-box">
                <span class="search-icon">ğŸ”</span>
                <input type="text" class="search-input" placeholder="æœç´¢ç­›é€‰æ¡ä»¶æè¿°.">
            </div>
            <div class="action-buttons">
                <button class="btn btn-orange" onclick="openUploadModal()">ä¸Šä¼ ç ”ç©¶æ–‡æ¡£æˆ–ç²˜è´´ç­›é€‰æ¡ä»¶</button>
                <button class="btn btn-primary">+ æ·»åŠ ç­›é€‰æ¡ä»¶</button>
            </div>
        </div>

        <!-- è¡¨æ ¼åŒºåŸŸ -->
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th style="width: 40px;"></th>
                        <th>åºå·</th>
                        <th>ç­›é€‰æ¡ä»¶</th>
                        <th>æ¡ä»¶ç±»å‹</th>
                        <th>æ¡ä»¶çº§åˆ«</th>
                        <th>ç­›é€‰ç»†é¡¹</th>
                        <th>æ•°æ®æº</th>
                        <th>æ“ä½œ</th>
                    </tr>
                </thead>
                <tbody id="rulesTableBody">
                    <!-- åˆå§‹ä¸ºç©ºï¼Œè¯†åˆ«åå¡«å…… -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- åº•éƒ¨ç¡®è®¤æŒ‰é’® -->
    <div class="footer-actions">
        <button class="btn-confirm" onclick="confirmRules()">ç¡®è®¤</button>
    </div>

    <!-- ä¸Šä¼ æ–‡ä»¶æ¨¡æ€æ¡† -->
    <div id="uploadModal" class="upload-modal-overlay" onclick="if(event.target === this) closeUploadModal()">
        <div class="upload-modal" onclick="event.stopPropagation()">
            <div class="upload-modal-tabs">
                <button class="upload-tab active" onclick="switchTab('file')">æ–‡ä»¶ä¸Šä¼ </button>
                <button class="upload-tab" onclick="switchTab('text')">æ–‡æœ¬ç²˜è´´</button>
            </div>
            <div class="upload-modal-body">
                <div class="upload-area">
                    <button class="select-file-btn" onclick="document.getElementById('fileInput').click()">é€‰æ‹©æ–‡ä»¶</button>
                    <div class="support-formats">æ”¯æŒæ ¼å¼: PDFã€Word.</div>
                    <input type="file" id="fileInput" style="display: none;" accept=".pdf,.doc,.docx">
                </div>
            </div>
            <div class="upload-modal-footer">
                <button class="btn-cancel" onclick="closeUploadModal()">å–æ¶ˆ</button>
                <button class="btn-start-recognition" onclick="startRecognition()">å¼€å§‹è¯†åˆ«</button>
            </div>
        </div>
    </div>

    <script>
        // ä»URLå‚æ•°è·å–é¡¹ç›®ä¿¡æ¯
        const urlParams = new URLSearchParams(window.location.search);
        const projectId = urlParams.get('projectId') || '2025123115054954';
        const projectName = urlParams.get('projectName') || 'SLEè‹å·äºšç››';

        // æ›´æ–°é¡¹ç›®ä¿¡æ¯
        document.getElementById('projectInfo').textContent = `${projectId} --- ${projectName}`;

        // æ‰“å¼€ä¸Šä¼ æ¨¡æ€æ¡†
        function openUploadModal() {
            document.getElementById('uploadModal').classList.add('show');
        }

        // å…³é—­ä¸Šä¼ æ¨¡æ€æ¡†
        function closeUploadModal() {
            document.getElementById('uploadModal').classList.remove('show');
        }

        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function switchTab(tab) {
            const tabs = document.querySelectorAll('.upload-tab');
            tabs.forEach(t => t.classList.remove('active'));
            if (tab === 'file') {
                tabs[0].classList.add('active');
            } else {
                tabs[1].classList.add('active');
            }
        }

        // å¼€å§‹è¯†åˆ«
        function startRecognition() {
            closeUploadModal();
            
            // è¯†åˆ«å‡ºçš„æ•°æ®
            const recognizedData = [
                {
                    id: 1,
                    condition: 'å¹´é¾„ 18-65 å²',
                    type: 'include',
                    level: 'initial',
                    detail: 'å¹´é¾„ >= 18å² ä¸” å¹´é¾„ <= 65å²',
                    dataSources: ['åŸºæœ¬ä¿¡æ¯']
                },
                {
                    id: 2,
                    condition: 'è¯Šæ–­ SLE è¶…è¿‡ 6ä¸ªæœˆ',
                    type: 'include',
                    level: 'initial',
                    detail: 'å½“å‰æ—¶é—´ - SLEè¯Šæ–­æ—¶é—´ > 6ä¸ªæœˆ',
                    dataSources: ['ç°ç—…å²', 'æ—¢å¾€å²', 'ç¡®è¯Šè¯Šæ–­', 'ä¸»è¯‰', 'å…¥é™¢è¯Šæ–­', 'å‡ºé™¢è¯Šæ–­', 'å‡ºé™¢æƒ…å†µ']
                },
                {
                    id: 3,
                    condition: 'å¦Šå¨ çŠ¶æ€ = æœªå¦Šå¨ ',
                    type: 'include',
                    level: 'refined',
                    detail: 'è¡€æ¸…å¦Šå¨ è¯•éªŒç»“æœä¸ºé˜´æ€§',
                    dataSources: ['ç°ç—…å²', 'ä½“æ ¼æ£€æŸ¥', 'å‡ºé™¢æƒ…å†µ', 'å…¥é™¢è¯Šæ–­', 'ç”Ÿå‘½ä½“å¾...']
                },
                {
                    id: 4,
                    condition: 'å½±åƒå­¦ (ä¾‹å¦‚èƒ¸éƒ¨CT) æç¤ºè‚ºç»“æ ¸',
                    type: 'exclude',
                    level: 'refined',
                    detail: 'å½±åƒå­¦æ£€æŸ¥æ˜¾ç¤ºè‚ºç»“æ ¸ç‰¹å¾',
                    dataSources: ['RISæŠ¥å‘Š']
                }
            ];

            // å¡«å……è¡¨æ ¼
            fillTableWithData(recognizedData);
        }

        // å¡«å……è¡¨æ ¼æ•°æ®
        function fillTableWithData(data) {
            const tbody = document.getElementById('rulesTableBody');
            tbody.innerHTML = '';

            data.forEach(item => {
                const row = document.createElement('tr');
                
                // æ‹–æ‹½æ‰‹æŸ„
                const dragCell = document.createElement('td');
                dragCell.innerHTML = '<div class="drag-handle">â˜°</div>';
                
                // åºå·
                const idCell = document.createElement('td');
                idCell.textContent = item.id;
                
                // ç­›é€‰æ¡ä»¶
                const conditionCell = document.createElement('td');
                const conditionInput = document.createElement('input');
                conditionInput.type = 'text';
                conditionInput.className = 'table-input';
                conditionInput.value = item.condition;
                conditionCell.appendChild(conditionInput);
                
                // æ¡ä»¶ç±»å‹
                const typeCell = document.createElement('td');
                const typeBtn = document.createElement('button');
                typeBtn.className = `type-badge type-${item.type}`;
                typeBtn.textContent = item.type === 'include' ? 'çº³å…¥æ¡ä»¶ â–¼' : 'æ’é™¤æ¡ä»¶ â–¼';
                typeCell.appendChild(typeBtn);
                
                // æ¡ä»¶çº§åˆ«
                const levelCell = document.createElement('td');
                const levelBtn = document.createElement('button');
                if (item.level === 'initial') {
                    levelBtn.className = 'level-badge level-initial';
                    levelBtn.textContent = 'åˆç­›æ¡ä»¶ â–¼';
                } else {
                    levelBtn.className = 'level-badge level-refined';
                    levelBtn.textContent = 'ç²¾ç­›æ¡ä»¶ â–¼';
                }
                levelCell.appendChild(levelBtn);
                
                // ç­›é€‰ç»†é¡¹
                const detailCell = document.createElement('td');
                const detailInput = document.createElement('input');
                detailInput.type = 'text';
                detailInput.className = 'table-input';
                detailInput.value = item.detail;
                detailCell.appendChild(detailInput);
                
                // æ•°æ®æº
                const dataSourceCell = document.createElement('td');
                const dataSourceContainer = document.createElement('div');
                dataSourceContainer.className = 'data-source-container';
                
                // æ˜¾ç¤ºæ‰€æœ‰æ•°æ®æºæŒ‰é’®
                item.dataSources.forEach((source, index) => {
                    const badge = document.createElement('button');
                    badge.className = 'data-source-badge';
                    
                    // æœ€åä¸€ä¸ªæŒ‰é’®æ˜¾ç¤ºæ•°é‡
                    if (index === item.dataSources.length - 1) {
                        badge.innerHTML = `${source} <span class="data-source-count">+${item.dataSources.length}</span> â–¼`;
                    } else {
                        badge.textContent = source;
                    }
                    
                    dataSourceContainer.appendChild(badge);
                });
                
                dataSourceCell.appendChild(dataSourceContainer);
                
                // æ“ä½œ
                const actionCell = document.createElement('td');
                const actionDiv = document.createElement('div');
                actionDiv.className = 'action-buttons-cell';
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'btn-delete';
                deleteBtn.textContent = 'ğŸ—‘ï¸';
                deleteBtn.onclick = function() {
                    row.remove();
                };
                actionDiv.appendChild(deleteBtn);
                actionCell.appendChild(actionDiv);
                
                // ç»„è£…è¡Œ
                row.appendChild(dragCell);
                row.appendChild(idCell);
                row.appendChild(conditionCell);
                row.appendChild(typeCell);
                row.appendChild(levelCell);
                row.appendChild(detailCell);
                row.appendChild(dataSourceCell);
                row.appendChild(actionCell);
                
                tbody.appendChild(row);
            });
        }

        // ç¡®è®¤è§„åˆ™å¹¶è·³è½¬
        function confirmRules() {
            const tbody = document.getElementById('rulesTableBody');
            const rows = tbody.querySelectorAll('tr');
            const rules = [];

            rows.forEach(row => {
                const conditionInput = row.querySelector('td:nth-child(3) input');
                const typeBtn = row.querySelector('td:nth-child(4) button');
                const condition = conditionInput ? conditionInput.value : '';
                const type = typeBtn ? (typeBtn.textContent.includes('çº³å…¥æ¡ä»¶') ? 'include' : 'exclude') : '';

                if (condition && type) {
                    rules.push({
                        condition: condition,
                        type: type
                    });
                }
            });

            // è·³è½¬å›è¯•éªŒæ–¹æ¡ˆé¡µé¢ï¼Œä¼ é€’æ•°æ®
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('projectId') || 'TT-00001';
            const projectName = urlParams.get('projectName') || 'ä¸´åºŠç ”ç©¶æ‚£è€…æ ‡ç­¾';
            
            // å°†è§„åˆ™æ•°æ®ç¼–ç ä¸ºURLå‚æ•°
            const rulesParam = encodeURIComponent(JSON.stringify(rules));
            window.location.href = `protocol-view.html?projectId=${projectId}&projectName=${encodeURIComponent(projectName)}&rules=${rulesParam}`;
        }
    </script>
</body>
</html>